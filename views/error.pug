extends layout.pug

block content
  .min-h-screen.flex.items-center.justify-center.bg-slate-50.p-4
    .text-center.max-w-md.w-full
      h1.text-9xl.font-bold.text-red-300.mb-4 500
      h2.text-2xl.font-bold.text-slate-700.mb-2 服务器内部错误
      p.text-slate-500.mb-6 抱歉，服务器遇到了问题。请稍后重试。
      
      if error && Object.keys(error).length > 0
        .bg-red-50.border.border-red-200.rounded-lg.p-4.mb-6.text-left
          h3.text-red-800.font-bold.mb-2 错误详情：
          pre.text-red-700.text-sm.whitespace-pre-wrap.overflow-auto.max-h-40= JSON.stringify(error, null, 2)
      
      .space-y-3
        a(href="/dashboard" class="inline-block w-full px-6 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition shadow-md")
          i(class="fas fa-tachometer-alt mr-2")
          | 返回仪表板
        a(href="javascript:history.back()" class="inline-block w-full px-6 py-3 bg-slate-200 text-slate-700 rounded-lg font-bold hover:bg-slate-300 transition")
          i(class="fas fa-arrow-left mr-2")
          | 返回上一页
        button(onclick="location.reload()" class="inline-block w-full px-6 py-3 bg-green-600 text-white rounded-lg font-bold hover:bg-green-700 transition")
          i(class="fas fa-redo mr-2")
          | 刷新页面

block scripts
  script.
    // 错误页面特定脚本
    document.addEventListener('DOMContentLoaded', function() {
      console.error('页面错误:', !{JSON.stringify(error || {})});
    });